<WindowManagerWithLoginScreen>:
    LoginScreen:
        id: screen1
        name: "loginscreen"
    RoutesIndexScreen:
        id: screen2
        name: "routesindexscreen"
    RouteMapScreen:
        id: screen3
        name: "routemapscreen"
        dag: screen2.dagindexwindow

<WindowManager>:
    RoutesIndexScreen:
        id: screen2
        name: "routesindexscreen"
    RouteMapScreen:
        id: screen3
        name: "routemapscreen"
        dag: screen2.dagindexwindow

<LoginScreen>:
    BoxLayout:
        id:box_layout_screen
        canvas.before:
            Color:
                rgb: 0.7, 0.7, 0.7
            Rectangle:
                size: self.size
                pos: self.pos
        orientation:'vertical'
        padding: 80
        MDLabel:
            text:'Welkom in de Zwerfbond app'
            halign: "center"
            font_style:'H4'
            size_hint:(1,0.11)
        MDLabel:
            id:download_map_label
            font_style:'Body1'
            size_hint:(1,0.11)
        MDLabel:
            id:error_message
            halign: "center"
            color: 1,0,0,1
            text:''
            size_hint:(1,0.05)
            font_size:24
            # font_style:'Body2'
        TextInput:
            id:password_input
            size_hint:(0.8,0.05)
            height: 20
            multiline: False
            pos_hint: {"center_x": .5}
        MDLabel:
            text:''
            size_hint:(1,0.02)
        MDRaisedButton:
            spacing:20
            id:download_button
            size_hint:(None,0.05)
            text:'Download de kaart'
            font_style:'Body1'
            pos_hint: {"center_x": .5}
            md_bg_color: 1, 0, 1, 1
            margin: 20
            on_release:
                root.verify_password()
        ProgressBar:
            id:progress_bar
            max:1
            value:0
            size_hint:(1,0.05)
        MDLabel:
            size_hint:(1,0.05)
            text:'Let op! Wij raden aan om de kaart te downloaden als u met wifi verbonden bent.'
            font_size:24
            halign: "center"
        Button:
            id:cancel_button
            size_hint:(None,0.05)
            pos_hint: {"center_x": .5}
            text:'Niet de nieuwe kaart downloaden'
            halign: "center"
            opacity: 0
            disabled: True
            on_release:
                root.switch_screen()

<RoutesIndexScreen>:
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            id:header_boxlayout
            canvas.before:
                Color:
                    rgb: 0.7, 0.7, 0.7
                Rectangle:
                    size: self.size
                    pos:self.pos
            size_hint:(1,0.2)
            Label:
                id:label_tour_name
                font_size:48
                bold:True
                size_hint:(.8,1)
        BoxLayout:
            id:menu_boxlayout
            orientation:'vertical'

<RouteMapScreen>:
    FloatLayout:
        MapView:
            id:mapview
            zoom: 16
            double_tap_zoom: True
            MapMarkerPopup:
                source:'blue_gps_dot.png'
                id: gps_tracker
            MapMarkerPopup:
                id:eind_marker
                source: "red_flag_gps.png"
                Label:
                    id:label_eind_marker
                    color: 0,0,0,1
                    font_size: 24
                    bold: True
